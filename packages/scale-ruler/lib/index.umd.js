(function(e,_){typeof exports=="object"&&typeof module<"u"?module.exports=_(require("vue")):typeof define=="function"&&define.amd?define(["vue"],_):(e=typeof globalThis<"u"?globalThis:e||self,e.ScaleRuler=_(e.Vue))})(this,function(e){"use strict";const _=e.defineComponent({__name:"CanvasPanel",props:{containerInfo:{type:Object,required:!0},opt:{type:Object,required:!0},canvasInfo:{type:Object,required:!0}},setup(c){const r=c,t=e.computed(()=>{var f,a;return{position:"absolute",left:0,top:0,width:((f=r.opt)==null?void 0:f.canvasWidth)+"px",height:((a=r.opt)==null?void 0:a.canvasHeight)+"px",transition:"transform 300ms",transformOrigin:"0 0",transform:`translate(${r.canvasInfo.translateX}px, ${r.canvasInfo.translateY}px) scale(${r.canvasInfo.scale})`,...r.opt.canvasStyle}});return(f,a)=>(e.openBlock(),e.createElementBlock("div",{ref:"canvasPanel",style:e.normalizeStyle(t.value)},null,4))}}),T=e.defineComponent({__name:"ScrollBar",props:{containerInfo:{type:Object,required:!0},opt:{type:Object,required:!0},isY:{type:Boolean,default:!1},scrollBarInfo:{type:Object,required:!0},scrollBarOpacity:{type:Object,required:!0},transformInfo:{type:Object,required:!0}},setup(c){const r=c,{scrollBarOpacity:t,transformInfo:f}=e.toRefs(r),a=e.computed(()=>{const{opt:o,scrollBarInfo:n,isY:d}=r,{scrollBarConfig:l}=o,m={position:"absolute",borderRadius:"4px",backgroundColor:l.bgColor,opacity:r.scrollBarOpacity[d?"yOpacity":"xOpacity"]||0,transition:"opacity 300ms",cursor:"pointer",zIndex:l.zIndex,width:(d?l.barSize:n.width)+"px",height:(d?n.height:l.barSize)+"px"};return d?(m.top=n.top+"px",m.right=0):(m.left=n.left+"px",m.bottom=0),m}),p=e.ref(null),i={};function u(o){if(o.preventDefault(),!t.value.isMouseDown)return;let{translateX:n,translateY:d}=f.value;const l=r.scrollBarInfo,{width:m,height:s}=r.containerInfo;if(r.isY){const v=o.pageY-i.startY;let x=i.top+v;x=Math.min(Math.max(0,x),s-l.height);const O=x*l.totalHeight/s;d=r.opt.containerYPadding-O,f.value.translateY=d}else{const v=o.pageX-i.startX;let x=i.left+v;x=Math.min(Math.max(0,x),m-l.width);const O=x*l.totalWidth/m;n=r.opt.containerXPadding-O,f.value.translateX=n}}return e.onMounted(()=>{if(p.value){const o=p.value,n=r.isY?"yOpacity":"xOpacity";o.addEventListener("mouseenter",()=>{t.value[n]=r.opt.scrollBarConfig.opacity,t.value[r.isY?"xOpacity":"yOpacity"]=0,t.value.isMouseEnter=!0}),o.addEventListener("mouseleave",()=>{t.value.isMouseEnter=!1,t.value[n]=0}),o.addEventListener("mousedown",d=>{t.value.isMouseDown=!0,i.startX=d.pageX,i.startY=d.pageY,i.left=r.scrollBarInfo.left,i.top=r.scrollBarInfo.top,document.addEventListener("mousemove",u)}),document.addEventListener("mouseup",()=>{t.value.isMouseDown&&(t.value.isMouseDown=!1,document.removeEventListener("mousemove",u))})}}),(o,n)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"scrollBarRef",ref:p,style:e.normalizeStyle(a.value)},null,4))}}),P=c=>c<=.25?40:c<=.5?20:c<=1?10:c<=2?5:c<=4?2:1,q=c=>{const r=c.getBoundingClientRect(),t=r.top+(document.body.scrollTop||document.documentElement.scrollTop),f=r.left+(document.body.scrollLeft||document.documentElement.scrollLeft);return{top:t,left:f}},j=(c,r,t)=>{const{scale:f,translateX:a,translateY:p}=c;return(r-(t?p:a))/f},X=(c,r,t)=>{const{scale:f,translateX:a,translateY:p}=c,i=r*f;return(t?p:a)+i};function I(c,r,t,f,a,p){const i={coordinate:a,translate:f},u=c.length;if(u>0){let o=0;for(;o<u;){const n=c[o];if(Math.abs(a-n)<=t){i.coordinate=n,i.translate=X(r,n,p);break}else if(n>a)break;o++}}return i}const D=(c,r,t,f)=>{e.nextTick(()=>{const a=f.value;if(a){const p=a.offsetWidth,i=a.offsetHeight,{rulerConfig:u}=c,{bgColor:o,fontFamily:n,fontSize:d,lineColor:l,fontColor:m}=u;if(p>0&&i>0){const s=a.getContext("2d");s.clearRect(0,0,p,i),o&&(s.save(),s.fillStyle=o,s.fillRect(0,0,p,i),s.restore());const v=t?u.yRulerWidth:u.xRulerHeight,{translateX:x,translateY:O,scale:h}=r,y=t?O:x,g=P(h),S=g*h,b=window.devicePixelRatio,M=-y,B=Math.floor(M/S),E=Math.floor(((t?i:p)-y)/S);s.save(),s.fillStyle=l,s.font=`${d*b}px ${n}`,s.translate(.5,.5),s.scale(1/b,1/b),t?s.fillRect((v-1)*b,0,1,i*b):s.fillRect(0,(v-1)*b,p*b,1);for(let w=B;w<=E;w++){s.fillStyle=l;const C=(y+w*S)*b;let L=v/4;w%10===0?L=v*4/5:w%5===0&&(L=v/3),t?s.fillRect((v-L)*b,C,L*b,1):(s.fillRect(C,(v-L)*b,1,L*b),w%10===0&&(s.fillStyle=m,s.fillText(String(w*g),C+2*b,(v+8-L)*b)))}if(s.restore(),t){s.font=`${d}px ${n}`;let w=B;for(;w<=E;)if(w%10)w++;else{s.save();const C=y+w*S+v/2;s.translate(C+v/5,C-v*6/5),s.rotate(Math.PI/2),s.fillText(String(w*g),v*4/5,C),w+=10,s.restore()}}}}})},$=(c,r)=>{const t=e.reactive([0]);function f(n,d=!0){const l=t.indexOf(n);d&&l===-1&&t.push(n),!d&&l>-1&&t.splice(l,1)}function a(n,d=!0){Array.isArray(n)?n.forEach(l=>f(l,d)):f(n,d)}function p(n){a(n),t.sort((d,l)=>d-l)}function i(n){a(n,!1)}const u=e.computed(()=>c.positionLineConfig[r?"adsorptionYList":"adsorptionXList"]);e.watch(()=>u.value,n=>{p(n)},{deep:!0});const o=e.computed(()=>r?c.canvasWidth:c.canvasHeight);return e.watch(()=>o.value,(n,d)=>{d!==void 0&&i(d),p(n)},{immediate:!0}),{adsorptionList:t}},F=(c,r,t,f,a,p)=>{let i=1;const u=e.reactive([]);let o=-1,n=!1;function d(l){if(n&&o>-1){l.preventDefault();const{xRulerHeight:m,yRulerWidth:s}=c.value.rulerConfig,v=u[o],x=(a?l.pageY:l.pageX)-v.start,O=v.startTranslate+x,h=O>(a?m:s),y=j(f.value,O,a),g=I(t,f.value,c.value.positionLineConfig.adsorptionGap,O,y,a);u[o].showTip=h,u[o].translate=g.translate,u[o].coordinate=g.coordinate}}return e.onMounted(()=>{if(p.value){const l=p.value;l.addEventListener("mousedown",m=>{const s=q(l),v=a?m.pageY:m.pageX,x=v-(a?s.top:s.left),O={startTranslate:x,translate:x,start:v,id:i,coordinate:j(f.value,x,a),showTip:!1,needAnimate:!1};o=i,u[i++]=O,n=!0,document.addEventListener("mousemove",d)}),document.addEventListener("mouseup",()=>{if(document.removeEventListener("mousemove",d),!n||o<0)return;n=!1;const m=u[o],{width:s,height:v}=r.value,{xRulerHeight:x,yRulerWidth:O}=c.value.rulerConfig;m.translate<=(a?x:O)||m.translate>=(a?v:s)?delete u[o]:(u[o].showTip=!1,u[o].needAnimate=!0),o=-1})}}),{positionLineMap:u}},N=(c,r,t,f,a,p,i,u)=>{let o=!1;function n(l){i.value.showTip=l}function d(l){if(!o)return;const m=(a?l.pageY:l.pageX)-i.value.start,s=i.value.startTranslate+m,v=j(f.value,s,a),x=I(t.value,f.value,c.value.positionLineConfig.adsorptionGap,s,v,a);i.value.coordinate=x.coordinate}e.onMounted(()=>{if(p.value){const l=p.value;l.addEventListener("mouseenter",()=>{n(!0)}),l.addEventListener("mouseleave",()=>{o||n(!1)}),l.addEventListener("mousedown",m=>{m.preventDefault(),o=!0,i.value.showTip=!0;const s=a?m.pageY:m.pageX;i.value.start=s,i.value.startTranslate=i.value.translate,i.value.needAnimate=!1,document.addEventListener("mousemove",d)}),document.addEventListener("mouseup",()=>{if(!o)return;const{translate:m,id:s}=i.value,{width:v,height:x}=r.value,{xRulerHeight:O,yRulerWidth:h}=c.value.rulerConfig;m<=(a?O:h)||m>=(a?x:v)?u(s):(n(!1),i.value.needAnimate=!0),document.removeEventListener("mousemove",d)})}})},V=e.defineComponent({__name:"PositionLine",props:{containerInfo:{type:Object,required:!0},opt:{type:Object,required:!0},isY:{type:Boolean,default:!1},transformInfo:{type:Object,required:!0},lineInfo:{type:Object,required:!0},adsorptionList:{type:Array,required:!0}},emits:["remove-position-line"],setup(c,{emit:r}){const t=c,{lineInfo:f,adsorptionList:a,transformInfo:p,opt:i,containerInfo:u}=e.toRefs(t),o=e.computed(()=>i.value.positionLineConfig.padding),n=e.computed(()=>2*o.value+1),d=e.computed(()=>X(p.value,f.value.coordinate,t.isY)),l=e.computed(()=>{const{width:g,height:S}=u.value,{isY:b}=t,M=b?`translate(0, ${d.value}px)`:`translate(${d.value}px, 0)`;return{position:"absolute",width:(b?g:n.value)+"px",height:(b?n.value:S)+"px",cursor:b?"row-resize":"col-resize",top:(b?-o.value:0)+"px",left:(b?0:-o.value)+"px",transform:M,zIndex:t.opt.positionLineConfig.zIndex,transition:f.value.needAnimate?"transform 300ms":""}}),m=e.computed(()=>{const{isY:g}=t;return{position:"absolute",width:g?"100%":"1px",height:g?"1px":"100%",backgroundColor:i.value.positionLineConfig.lineColor,top:(g?o.value:0)+"px",left:(g?0:o.value)+"px"}}),s=e.ref({}),v=e.computed(()=>{const{isY:g}=t,{width:S,height:b}=u.value,{tipWidth:M,tipHeight:B}=s.value;let E,w;return M&&B?(w=g?"50%":(d.value+n.value+M>=S?-M:n.value)+"px",E=g?(d.value+n.value+B>=b?-B:n.value)+"px":"50%"):(w=g?"50%":n.value+"px",E=g?n.value+"px":"50%"),{position:"absolute",padding:"5px",lineHeight:"18px",minWidth:"80px",backgroundColor:"rgba(0,0,0,.8)",color:"#fff",fontSize:"12px",borderRadius:"4px",userSelect:"none",textAlign:"center",left:w,top:E,transform:g?"translate(-50%, 0)":"translate(0, -50%)",visibility:f.value.showTip?"visible":"hidden"}}),x=e.ref(null),O=r;function h(g){O("remove-position-line",g)}N(i,u,a,p,t.isY,x,f,h);const y=e.ref(null);return e.onMounted(()=>{if(y.value){const g=y.value,S=g.offsetWidth,b=g.offsetHeight;s.value.tipWidth=S,s.value.tipHeight=b}}),(g,S)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"positionLineRef",ref:x,class:"scale-ruler_position-line",style:e.normalizeStyle(l.value)},[e.createElementVNode("div",{class:"scale-ruler_position-line_inner",style:e.normalizeStyle(m.value)},null,4),e.createElementVNode("div",{class:"scale-ruler_position-line_tip",style:e.normalizeStyle(v.value),ref_key:"tipRef",ref:y},e.toDisplayString((c.isY?"Y":"X")+": "+ +e.unref(f).coordinate.toFixed(2)+" px"),5)],4))}}),K=["width","height"],W=e.defineComponent({__name:"Ruler",props:{containerInfo:{type:Object,required:!0},opt:{type:Object,required:!0},canvasInfo:{type:Object,required:!0},isY:{type:Boolean,default:!1},transformInfo:{type:Object,required:!0}},setup(c){const r=c,{opt:t,transformInfo:f,containerInfo:a}=e.toRefs(r),p=e.computed(()=>{const{isY:l,containerInfo:m,opt:s}=r;return{width:l?s.rulerConfig.yRulerWidth:m.width,height:l?m.height:s.rulerConfig.xRulerHeight}}),i=e.computed(()=>({position:"absolute",left:0,top:0,zIndex:r.opt.rulerConfig.zIndex+(r.isY?0:1)})),u=e.ref();e.watch([()=>r.containerInfo,()=>r.canvasInfo],()=>{D(r.opt,r.canvasInfo,r.isY,u)},{deep:!0});const{adsorptionList:o}=$(r.opt,r.isY),{positionLineMap:n}=F(t,a,o,f,!r.isY,u);function d(l){delete n[l]}return(l,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("canvas",{ref_key:"rulerRef",ref:u,style:e.normalizeStyle(i.value),width:p.value.width,height:p.value.height},null,12,K),r.opt.usePositionLine?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass("position-line-"+(r.isY?"x":"y"))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Object.keys(e.unref(n)),s=>(e.openBlock(),e.createBlock(V,{key:s,opt:r.opt,"is-y":!r.isY,"transform-info":r.transformInfo,"container-info":r.containerInfo,"line-info":e.unref(n)[s],"adsorption-list":e.unref(o),onRemovePositionLine:d},null,8,["opt","is-y","transform-info","container-info","line-info","adsorption-list"]))),128))],2)):e.createCommentVNode("",!0)],64))}});function G(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var R,z;function U(){if(z)return R;z=1;var c=function(y){return r(y)&&!t(y)};function r(h){return!!h&&typeof h=="object"}function t(h){var y=Object.prototype.toString.call(h);return y==="[object RegExp]"||y==="[object Date]"||p(h)}var f=typeof Symbol=="function"&&Symbol.for,a=f?Symbol.for("react.element"):60103;function p(h){return h.$$typeof===a}function i(h){return Array.isArray(h)?[]:{}}function u(h,y){return y.clone!==!1&&y.isMergeableObject(h)?x(i(h),h,y):h}function o(h,y,g){return h.concat(y).map(function(S){return u(S,g)})}function n(h,y){if(!y.customMerge)return x;var g=y.customMerge(h);return typeof g=="function"?g:x}function d(h){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(h).filter(function(y){return Object.propertyIsEnumerable.call(h,y)}):[]}function l(h){return Object.keys(h).concat(d(h))}function m(h,y){try{return y in h}catch{return!1}}function s(h,y){return m(h,y)&&!(Object.hasOwnProperty.call(h,y)&&Object.propertyIsEnumerable.call(h,y))}function v(h,y,g){var S={};return g.isMergeableObject(h)&&l(h).forEach(function(b){S[b]=u(h[b],g)}),l(y).forEach(function(b){s(h,b)||(m(h,b)&&g.isMergeableObject(y[b])?S[b]=n(b,g)(h[b],y[b],g):S[b]=u(y[b],g))}),S}function x(h,y,g){g=g||{},g.arrayMerge=g.arrayMerge||o,g.isMergeableObject=g.isMergeableObject||c,g.cloneUnlessOtherwiseSpecified=u;var S=Array.isArray(y),b=Array.isArray(h),M=S===b;return M?S?g.arrayMerge(h,y,g):v(h,y,g):u(y,g)}x.all=function(y,g){if(!Array.isArray(y))throw new Error("first argument should be an array");return y.reduce(function(S,b){return x(S,b,g)},{})};var O=x;return R=O,R}var J=U();const k=G(J),Y={scale:1,canScale:!0,maxScale:10,minScale:.1,autoCenter:!0,autoScale:!0,containerAutoSize:!1,containerWidth:1e3,containerHeight:500,containerXPadding:80,containerYPadding:80,canvasWidth:1920,canvasHeight:2e3,proxyScaleKey:!0,useScrollBar:!0,useRuler:!0,usePositionLine:!0,positionLineConfig:{lineColor:"#24aa61",padding:3,adsorptionXList:[],adsorptionYList:[],adsorptionGap:4,zIndex:300},canvasStyle:{},scrollBarConfig:{bgColor:"#000000",opacity:.4,zIndex:500,barSize:8},rulerConfig:{yRulerWidth:30,xRulerHeight:30,bgColor:"#efefef",fontColor:"#000000",fontSize:12,fontFamily:"Arial",lineColor:"#000000",zIndex:400},onScale:()=>{},onMove:()=>{}},Q=function(){const c={};for(const r in Y){const t=Y[r];typeof t=="object"&&t!==null?c[r]=()=>t:c[r]=t}return c}(),Z=(c,r)=>{const t=e.reactive({width:0,height:0,originWidth:0,originHeight:0});function f(u,o){new ResizeObserver(d=>{for(const l of d)if(l.target===o){const m=o.offsetWidth,s=o.offsetHeight;(m!==t.originWidth||s!==t.originHeight)&&a(u,o)}}).observe(o)}function a(u,o,n=!1){const d=u.value;d.containerAutoSize?(t.width=o.offsetWidth,t.height=o.offsetHeight,t.originWidth=t.width,t.originHeight=t.height,n&&f(u,o)):(t.width=d.containerWidth,t.height=d.containerHeight);const l=getComputedStyle(o);l.boxSizing==="border-box"&&(t.width-=parseFloat(l.borderLeftWidth)+parseFloat(l.borderRightWidth),t.height-=parseFloat(l.borderTopWidth)+parseFloat(l.borderBottomWidth)),l.position==="static"&&(t.position="relative")}e.onMounted(()=>{const u=r.value;u&&a(c,u,!0)});const p=e.computed(()=>({width:t.width,height:t.height})),i=e.computed(()=>{const u=c.value,o={overflow:"hidden"};return u.containerAutoSize||(o.width=t.width+"px",o.height=t.height+"px"),t.position&&(o.position=t.position),o});return{containerInfo:p,containerStyle:i}},ee=(c,r)=>{const t=e.reactive({});return e.watch(()=>r.value,()=>{const f=c.value;let a=0,p=0,{scale:i}=f;const{autoCenter:u,autoScale:o}=f,{width:n,height:d}=r.value;if(o){const s=(n-2*f.containerXPadding)/f.canvasWidth,v=(d-2*f.containerYPadding)/f.canvasHeight;i=Math.min(s,v)}t.scale=i;let l=0,m=0;a=f.canvasWidth*i,p=f.canvasHeight*i,u&&(l=Math.floor((n-a)/2),m=Math.floor((d-p)/2),t.translateX=l,t.translateY=m)},{deep:!0}),{transformInfo:t}},te=(c,r,t)=>({scrollBarInfo:e.computed(()=>{const a=c.value,{width:p,height:i}=r.value,{translateX:u,translateY:o,scale:n}=t,d=a.canvasWidth*n+2*a.containerXPadding,l=a.canvasHeight*n+2*a.containerYPadding,m=p<d,s=i<l,v=m||s,x=p*((a.containerXPadding-u)/d),O=i*((a.containerYPadding-o)/l),h=p/d*p,y=i/l*i;return{totalHeight:l,totalWidth:d,left:x,top:O,width:h,height:y,isYLarge:s,isXLarge:m,isLarge:v}})});function A(c,r,t){const f=c.value,{containerXPadding:a,containerYPadding:p,canvasWidth:i,canvasHeight:u}=f,o=i*t,n=u*t,{width:d,height:l}=r.value,m=Math.max((d-o)/2,a),s=Math.max((l-n)/2,p),v=o+2*a>d?d-(o+a):m,x=n+2*p>l?l-(n+p):s;return{maxTranslateX:m,maxTranslateY:s,minTranslateX:v,minTranslateY:x}}const ne=(c,r,t)=>({boundaryInfo:e.computed(()=>A(c,r,t.scale))}),H=(c,r,t,f)=>{const a=c.value;let{translateX:p,translateY:i,scale:u}=t;f=Math.min(Math.max(f,a.minScale),a.maxScale);const o=f-u,n=A(c,r,f);p-=o*a.canvasWidth/2,i-=o*a.canvasHeight/2,p=Math.max(Math.min(p,n.maxTranslateX),n.minTranslateX),i=Math.max(Math.min(i,n.maxTranslateY),n.minTranslateY),t.scale=f,t.translateX=p,t.translateY=i},oe=(c,r,t)=>{c.value.proxyScaleKey&&document.addEventListener("keydown",f=>{if(c.value.canScale){const a=f.keyCode;if((f.metaKey||f.ctrlKey)&&(a===187||a===189)){f.preventDefault();const p=t.scale+(a===187?.05:-.05);H(c,r,t,p)}}})},re=(c,r,t,f,a,p)=>{let i=null;const u=e.reactive({xOpacity:0,yOpacity:0,isMouseDown:!1,isMouseEnter:!1});return e.onMounted(()=>{a.value&&a.value.addEventListener("wheel",o=>{if(o.metaKey||o.ctrlKey){o.preventDefault();const n=-1*o.deltaY/100,d=t.scale+n;H(c,r,t,d)}else{if(!p.value.isLarge||u.isMouseDown)return;o.preventDefault();let{translateX:n,translateY:d}=t;i&&clearTimeout(i);const l=-o.deltaX,m=-o.deltaY;let s="";const{opacity:v=.4}=c.value.scrollBarConfig,{isXLarge:x,isYLarge:O}=p.value,{maxTranslateX:h,minTranslateX:y,maxTranslateY:g,minTranslateY:S}=f.value;x&&Math.abs(l)>Math.abs(m)&&(n+=l,n=Math.max(Math.min(n,h),y),u.xOpacity=v,u.yOpacity=0,t.translateX=n,s="x"),O&&Math.abs(m)>Math.abs(l)&&(s="y",d+=m,d=Math.max(Math.min(d,g),S),u.yOpacity=v,u.xOpacity=0,t.translateY=d),s&&(i=setTimeout(()=>{u.isMouseEnter||(u[s==="y"?"yOpacity":"xOpacity"]=0)},1e3))}})}),{scrollBarOpacity:u}};return e.defineComponent({__name:"ScaleRuler",props:e.mergeDefaults({scale:{},minScale:{},maxScale:{},canScale:{type:Boolean},autoCenter:{type:Boolean},autoScale:{type:Boolean},containerAutoSize:{type:Boolean},containerWidth:{},containerHeight:{},containerXPadding:{},containerYPadding:{},canvasWidth:{},canvasHeight:{},proxyScaleKey:{type:Boolean},useScrollBar:{type:Boolean},useRuler:{type:Boolean},usePositionLine:{type:Boolean},positionLineConfig:{},canvasStyle:{},scrollBarConfig:{},rulerConfig:{},onScale:{type:Function},onMove:{type:Function}},Q),setup(c){const r=c,t=e.ref(k(Y,r)),f=e.ref(null),{containerInfo:a,containerStyle:p}=Z(t,f),{transformInfo:i}=ee(t,a),{boundaryInfo:u}=ne(t,a,i),o=e.computed(()=>Object.assign({},i,u.value)),{scrollBarInfo:n}=te(t,a,i),d=e.reactive({}),l=e.watch(()=>o.value,s=>{if(s.scale){const v={scale:s.scale,translateX:s.translateX,translateY:s.translateY};d.scale||Object.assign(d,v),l()}});e.watch(()=>r,()=>{t.value=k(t.value,r)},{deep:!0}),oe(t,a,i);const{scrollBarOpacity:m}=re(t,a,i,u,f,n);return(s,v)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"container",ref:f,style:e.normalizeStyle(e.unref(p))},[t.value.useRuler?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createVNode(W,{opt:t.value,"container-info":e.unref(a),"canvas-info":o.value,"transform-info":e.unref(i)},null,8,["opt","container-info","canvas-info","transform-info"]),e.createVNode(W,{"is-y":"",opt:t.value,"container-info":e.unref(a),"canvas-info":o.value,"transform-info":e.unref(i)},null,8,["opt","container-info","canvas-info","transform-info"])],64)):e.createCommentVNode("",!0),e.createVNode(_,{"container-info":e.unref(a),opt:t.value,"canvas-info":o.value,"transform-info":e.unref(i)},{default:e.withCtx(()=>[e.renderSlot(s.$slots,"default")]),_:3},8,["container-info","opt","canvas-info","transform-info"]),e.unref(n).isXLarge?(e.openBlock(),e.createBlock(T,{key:1,opt:t.value,"container-info":e.unref(a),"scroll-bar-info":e.unref(n),"scroll-bar-opacity":e.unref(m),"transform-info":e.unref(i)},null,8,["opt","container-info","scroll-bar-info","scroll-bar-opacity","transform-info"])):e.createCommentVNode("",!0),e.unref(n).isYLarge?(e.openBlock(),e.createBlock(T,{key:2,opt:t.value,"container-info":e.unref(a),"scroll-bar-info":e.unref(n),"scroll-bar-opacity":e.unref(m),"transform-info":e.unref(i),"is-y":""},null,8,["opt","container-info","scroll-bar-info","scroll-bar-opacity","transform-info"])):e.createCommentVNode("",!0)],4))}})});
